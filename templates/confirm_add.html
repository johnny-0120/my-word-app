{% extends 'base.html' %}

{% block title %}ç¢ºèªæ–°å¢{% endblock %}

{% block content %}
    <h1 align="center">è«‹ç¢ºèªå–®å­—è³‡è¨Š</h1>
    
    <article>
        <header>
            <strong>{{ word }}</strong>
        </header>
        <form action="{{ url_for('save') }}" method="post" id="save-form">
            <input type="hidden" name="word" value="{{ word }}">
            <input type="hidden" name="definition" value="{{ definition }}">
            <input type="hidden" name="example_sentence" value="{{ example_sentence }}">
            <input type="hidden" name="etymology_json" value="{{ etymology | tojson | safe }}">
            <input type="hidden" name="synonyms_json" value="{{ synonyms | tojson | safe }}">
            <input type="hidden" name="antonyms_json" value="{{ antonyms | tojson | safe }}">
            
            <p><strong>å®šç¾©ï¼š</strong><br>{{ definition }}</p>
            <p><strong>ä¾‹å¥ï¼š</strong><br>{{ example_sentence }}</p>

            {% if etymology and (etymology.prefixes or etymology.roots or etymology.suffixes) %}
            <p><strong>å­—æ ¹åˆ†æï¼š</strong><br>
                {% for p in etymology.prefixes %}
                    <kbd>å­—é¦–: {{ p.prefix }} ({{ p.meaning }})</kbd>
                {% endfor %}
                {% for r in etymology.roots %}
                    <kbd>å­—æ ¹: {{ r.root }} ({{ r.meaning }})</kbd>
                {% endfor %}
                {% for s in etymology.suffixes %}
                    <kbd>å­—å°¾: {{ s.suffix }} ({{ s.meaning }})</kbd>
                {% endfor %}
            </p>
            {% endif %}

            {% if synonyms %}
                <p><strong>åŒç¾©è©ï¼š</strong><br>
                {% for s in synonyms %}
                    <kbd>{{ s }}</kbd>
                {% endfor %}
                </p>
            {% endif %}
            {% if antonyms %}
                <p><strong>åç¾©è©ï¼š</strong><br>
                {% for a in antonyms %}
                    <kbd>{{ a }}</kbd>
                {% endfor %}
                </p>
            {% endif %}
            </form>
        <footer>
            <button type="submit" form="save-form">å„²å­˜ä¸¦å»ºç«‹é—œè¯</button>
        </footer>
    </article>

    {% if related_words %}
    <hr>
    <h2>ç›¸é—œå–®å­—æ¢ç´¢ ğŸ§­</h2>
    <div class="word-grid">
        {% for rel_word in related_words %}
        <article>
            <header><strong>{{ rel_word.word }}</strong></header>
            <p>{{ rel_word.hint }}</p>
            <footer>
                <form action="{{ url_for('lookup') }}" method="post">
                    <input type="hidden" name="word" value="{{ rel_word.word }}">
                    <button type="submit" class="contrast outline">æŸ¥è©¢é€™å€‹å–®å­—</button>
                </form>
            </footer>
        </article>
        {% endfor %}
    </div>
    {% endif %}

{% endblock %}